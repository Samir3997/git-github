import static org.junit.jupiter.api.Assertions.assertEquals;

import java.time.LocalDateTime;

import org.junit.jupiter.api.Test;

public class DateUtilTest {

    @Test
    public void testGetDateTimeFromSkey() {
        // Test case 1: A valid skey with format "yyyyMMddHHmmss"
        long skey1 = 20231110123456L;
        String format1 = "yyyyMMddHHmmss";
        LocalDateTime expectedDateTime1 = LocalDateTime.of(2023, 11, 10, 12, 34, 56);
        LocalDateTime actualDateTime1 = DateUtil.getDateTimeFromSkey(skey1, format1);
        assertEquals(expectedDateTime1, actualDateTime1);

        // Test case 2: A valid skey with format "yyyyMMddHHmm"
        long skey2 = 200102030405L;
        String format2 = "yyyyMMddHHmm";
        LocalDateTime expectedDateTime2 = LocalDateTime.of(2001, 2, 3, 4, 5);
        LocalDateTime actualDateTime2 = DateUtil.getDateTimeFromSkey(skey2, format2);
        assertEquals(expectedDateTime2, actualDateTime2);

        // Test case 3: A valid skey with format "yyyyMMdd"
        long skey3 = 99991231L;
        String format3 = "yyyyMMdd";
        LocalDateTime expectedDateTime3 = LocalDateTime.of(9999, 12, 31, 0, 0); // Default time is 00:00:00
        LocalDateTime actualDateTime3 = DateUtil.getDateTimeFromSkey(skey3, format3);
        assertEquals(expectedDateTime3, actualDateTime3);

        // Test case 4: An invalid skey
        long skey4 = 123456789L;
        String format4 = "yyyyMMddHHmmss";
        try {
            DateUtil.getDateTimeFromSkey(skey4, format4);
            // If the code reaches here, the test case has failed
            fail("Expected an exception to be thrown");
        } catch (Exception e) {
            // The exception is expected
        }

        // Test case 5: An invalid format
        long skey5 = 20231110123456L;
        String format5 = "invalid_format";
        try {
            DateUtil.getDateTimeFromSkey(skey5, format5);
            // If the code reaches here, the test case has failed
            fail("Expected an exception to be thrown");
        } catch (Exception e) {
            // The exception is expected
        }
    }
}
